- mongoDB에서 가장 작은 단위
- 필드-값 쌍으로 구성
## 1. 특징
### 1.1 BSON(Binary Json)
- BSON이라는 형식으로 저장됩니다. BSON은 JSON과 매우 유사하지만, 바이너리(2진) 형태로 직렬화되어 저장 공간을 효율적으로 사용하고 데이터 처리 속도가 빠름
- JSON보다 더 다양한 데이터 타입(예: 날짜, 바이너리 데이터)을 지원

### 1.2 Field-Value Pairs
   * 도큐먼트는 `{ "필드명": "값", "필드명2": "값2" }` 와 같이 필드와 값의 쌍으로 구성

### 1.3 유연한 스키마
- 같은 컬렉션(Collection) 안에 있는 도큐먼트들이 서로 다른 필드를 가질 수 있음

### 1.4  `_id` 필드
- 모든 도큐먼트는 반드시  `_id` 필드를 갖음. 
- 컬렉션 내에서 각 도큐먼트를 식별하는 기본 키(Primary Key) 역할
- 자동 생성, 수동으로 구성 가능
- 배열을 제외하고 어떤 타입도 가능

### 1.5 계층적 구조
- 도큐먼트의 값으로 다른 도큐먼트(Nested/Embedded Document)나 배열(Array)을 포함할 수 있음.
- 연관된 데이터를 하나의 도큐먼트 안에 모두 담는 것이 가능해져, RDBMS의 JOIN 연산을 사용하지 않고도 복잡한 데이터를 효율적으로 모델링하고 조회할 수 있음


## 2. 제한 상황
### 2.1 최대 도큐먼크 크기 제한(16MB)
- 하나의 도큐먼트는 16mb를 초과할 수 없음
- 단일 도큐먼트가 과도한 RAM을 사용하거나, 전송 중 큰 대역폭을 차지하는 것을 방지하여 전반적인 시스템 성능 저하 방지
- 16MB보다 큰 데이터를 저장해야 할 경우(예: 동영상, 고화질 이미지, 로그 파일 등), MongoDB의 `GridFS` 기능을 사용해야 함 
> GridFS는 큰 파일을 여러 개의 작은 도큐먼트로 분할하여 저장하는 메커니즘

### 2.2 최대 중첩 깊이 100단계
- 도큐먼트 안에 또 다른 도큐먼트를 포함하는 중첩(Nesting)은 최대 100단계까지만 허용.
- 현실적 영향: 100단계는 대부분의 애플리케이션 시나리오에서 충분하고도 남는 깊이이므로, 이 제한이 실제로 문제가 되는 경우는 거의 없음.

## 3. 고려사항
### 3.1 원자성 단위
- 원자적 연산은 단일 도큐먼트 수준에서만 보장
- 여러 도큐먼트를 한 번에 수정해야 하는 경우, `다중 도큐먼트 트랜잭션`을 사용해야 함
- 연산이 복잡하고 성능이 부담되므로 관련 데이터를 하나의 도큐먼트 안에 모델링하는 것이 좋음

### 3.2 데이터 중복과 정규화 트레이드 오프
- 중첩 구조는 데이터가 중복될 수 있음
	- 작성자 이름이 바뀔 경우, 관련된 모든 게시글 도큐먼트를 찾아서 수정해야함.
- 데이터의 일관성이 매우 중요하고 업데이트가 잦다면 참조 방식(`_id`을 사용)이 더 나음
	- 읽을 때 여러 번 쿼리해야하는 단점이 있음

>[!NOTE]
>- MongoDB 도큐먼트 모델링 시에는 16MB 크기 제한을 준수하는 동시에, "데이터가 함께 조회되고 함께 변경되는가?"를 기준으로 관련 데이터를 하나의 도큐먼트로 묶을지, 아니면 분리할지를 신중하게 결정하는 것이 중요

